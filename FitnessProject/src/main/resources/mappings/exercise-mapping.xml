<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="DumbellDAO">
	<select id="listdumbellexercise" parameterType="String">
		SELECT de_seq,dex_name,dex_part,dex_description,dex_img,dex_ckbox
		  FROM dumbell_exercise
		 WHERE dex_name LIKE '%'||#{dex_name}||'%'
		 ORDER BY de_seq DESC 
	</select>
	
	<select id="listWithPaging" parameterType="hashMap" >
		<![CDATA[
		SELECT de_seq,dex_name,dex_part,dex_description,dex_img,dex_ckbox
		  FROM
    		(SELECT row_number() over(ORDER BY dex_name) de_seq,dex_name,dex_part,
    				dex_description,dex_img,dex_ckbox
      		   FROM dumbell_exercise
     		  WHERE dex_name LIKE '%'||#{key}||'%')
          WHERE rn <= #{criteria.pageNum} * #{criteria.rowsPerPage}
		    AND rn > (#{criteria.pageNum}-1) * #{criteria.rowsPerPage}
	    ]]>
	</select>
</mapper>